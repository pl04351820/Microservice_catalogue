#### Memory / CPU base Test

Specify the resource limit for FISSION by creating container.

```
$ fission env create --name nodefix --image fission/node-env:0.6.0 --mincpu 40 --maxcpu 40 --minmemory 128 --maxmemory 128 --poolsize 2
```

Load test by hey.
```
$ hey -c <c_request> -n 2000 http://192.168.99.100:31912/fission-function/fixtest?catalogue?size=5
```
C       N       Average     Slowest     Success Rate    Total Time
5       2000    0.1025      0.5000      100%            41.67
50      2000    0.6403      1.9025      100%            26.4691
100     2000    1.0799      2.1018      100%            23.3226
200     2000    1.7569      4.2029      100%            20.1417
500     2000    3.5021      18.3104     94.3%           21.1823
1000    2000    7.0287      19.9409     95.5%           22.8641
2000    2000    13.5634     20.0011     30.3%           20.1125


Resouce sharing

CPU cost
```
CPU     C       N       Average     Slowest     Success Rate    
10      X       X       X           X           X               
40      50      1000    0.8391      2.0042      100             
60      50      1000    0.8244      1.9872      100             
80      50      1000    0.8333      1.9622      100             
```

Memory cost

```
Memory  C       N       Average     Slowest     Success Rate    
64      50      1000    1.0530      2.9971      100             
128     50      1000    0.8391      2.0042      100             
256     50      1000    0.8069      2.2183      100             
512     50      1000    0.6078      1.5992      100             
1024    X       X       X           X           X          
```

Separate with three microservice


{
    "frontpage_raw": [
        1.0585482120513916,
        0.7582519054412842,
        0.6457681655883789,
        0.4972500801086426,
        0.6337540149688721,
        0.9278678894042969,
        5.04259991645813,
        1.4351818561553955,
        0.8275411128997803,
        1.1053051948547363
    ],
    "front_avg": 1.2932068347930908,
    "sizepage_raw": [
        1.2112312316894531,
        0.8217720985412598,
        0.5541932582855225,
        0.489840030670166,
        0.590907096862793,
        1.614914894104004,
        4.501209735870361,
        1.2813029289245605,
        0.8977108001708984,
        1.1564769744873047
    ],
    "sizepage": 1.3119559049606324,
    "tagpage_raw": [
        0.946099042892456,
        0.8140170574188232,
        0.60054612159729,
        0.49095988273620605,
        0.7593050003051758,
        1.6886000633239746,
        4.439520835876465,
        1.2744498252868652,
        0.9493539333343506,
        1.162118911743164
    ],
    "tagpage": 1.312497067451477
}


{
    "frontpage_raw": [
        1.3301711082458496,
        0.5929000377655029,
        0.2579832077026367,
        0.23229217529296875,
        0.2366189956665039,
        0.22748613357543945,
        0.2042078971862793,
        0.23543977737426758,
        0.5535502433776855,
        0.21466803550720215
    ],
    "sizepage_raw": [
        0.4622161388397217,
        0.3357517719268799,
        0.3999009132385254,
        0.3037376403808594,
        0.6312627792358398,
        0.4528942108154297,
        0.33247995376586914,
        0.25750207901000977,
        0.272352933883667,
        0.15403079986572266
    ],
    "tagpage_raw": [
        0.38823986053466797,
        0.26938486099243164,
        0.3404700756072998,
        0.23205208778381348,
        1.7645208835601807,
        0.3329439163208008,
        0.2711007595062256,
        0.31142401695251465,
        0.4103422164916992,
        1.1447370052337646
    ],
    "frontpage": 0.40853176116943357,
    "sizepage": 0.36021292209625244,
    "tagpage": 0.5465215682983399
}


Random json to clear cache
Serialized with same container:
{
	"frontpage_raw": [0.43676066398620605, 0.12206578254699707, 0.1183621883392334, 0.1260089874267578, 0.11806821823120117, 0.10965824127197266, 0.1024632453918457, 0.1227560043334961, 0.1685631275177002, 0.12978506088256836],
	"sizepage_raw": [0.14937615394592285, 0.14238190650939941, 0.12823700904846191, 0.14537906646728516, 0.1567249298095703, 0.13149404525756836, 0.15752196311950684, 0.1351330280303955, 0.1493828296661377, 0.13152384757995605],
	"frontpage": 0.15544915199279785,
	"sizepage": 0.1427154779434204
}

Parallel with same container:
[
	{
		"frontpage_raw": [0.1849498748779297, 0.21010613441467285, 0.26661181449890137, 0.22392964363098145, 0.21619725227355957, 0.41910409927368164, 0.21954989433288574, 0.24881291389465332, 0.38020896911621094, 0.41092920303344727],
		"frontpage": 0.27803997993469237
	} {
		"sizepage_raw": [0.18099498748779297, 0.2144920825958252, 0.29267096519470215, 0.29602503776550293, 0.2592592239379883, 0.40961217880249023, 0.24976277351379395, 0.20056605339050293, 0.4656791687011719, 0.33306288719177246],
		"sizepage": 0.2902125358581543
	}
]


Serialized with different container:
{
	"frontpage_raw": [0.27983784675598145, 0.11323428153991699, 0.14919590950012207, 0.15345406532287598, 0.158250093460083, 0.16529202461242676, 0.8016030788421631, 0.21234488487243652, 0.22764801979064941, 0.24436712265014648],
	"sizepage_raw": [0.18903017044067383, 0.19147801399230957, 0.22257494926452637, 0.2768077850341797, 0.24723386764526367, 0.24717283248901367, 0.15303778648376465, 0.23804497718811035, 0.3501250743865967, 0.3626291751861572],
	"frontpage": 0.2505227327346801,
	"sizepage": 0.24781346321105957
}

Parallel with same container:
[
	{
		"frontpage_raw": [0.41695475578308105, 0.36942195892333984, 0.47016286849975586, 0.2877929210662842, 0.2827920913696289, 0.2677948474884033, 0.36953091621398926, 0.3532450199127197, 0.5747380256652832, 0.2477099895477295],
		"frontpage": 0.3640143394470215
	} {
		"sizepage_raw": [0.5759317874908447, 0.23975563049316406, 0.4381392002105713, 0.26782798767089844, 0.3072052001953125, 0.25745296478271484, 0.3856639862060547, 0.32113194465637207, 0.38480186462402344, 0.4733598232269287],
		"sizepage": 0.3651270389556885
	}
]


